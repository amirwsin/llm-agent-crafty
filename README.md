# بررسی و توسعه عامل‌های سیاست‌گذار مبتنی بر LLM در مدل‌های عامل‌مبنا (ABM)

## معرفی پروژه

این ریپو بر اساس چند منبع علمی معتبر ساخته شده و از پروژه **LlmInstitution_CRAFTY** الهام گرفته است. هدف اصلی آن بررسی ایده‌ها و پیاده‌سازی‌های مطرح‌شده در این منابع است:

* Zenodo: [https://zenodo.org/records/14622039](https://zenodo.org/records/14622039) 


* پیش‌چاپ مقاله (EGUsphere): [https://egusphere.copernicus.org/preprints/2024/egusphere-2024-449/](https://egusphere.copernicus.org/preprints/2024/egusphere-2024-449/) 


* مقاله منتشرشده (Earth System Dynamics): [https://esd.copernicus.org/articles/16/423/2025/](https://esd.copernicus.org/articles/16/423/2025/) 



---

## هدف پروژه

این ریپو **فقط برای یک پروژه دانشگاهی در درس LLM** ایجاد شده است. هدف‌های اصلی عبارت‌اند از:

* آشنایی با نحوه کار **مدل‌های عامل‌مبنا (ABM)** در مسائل مربوط به سیاست‌گذاری.


* بررسی نحوه عملکرد **مدل‌های زبانی بزرگ (LLM)** به عنوان عامل تصمیم‌گیر.


* درک ساختار عامل‌ها، نحوه تصمیم‌گیری و تعامل آن‌ها با یکدیگر.


* شناخت محدودیت‌ها و چالش‌های استفاده از LLM در شبیه‌سازی‌ها (مانند هزینه توکن و نرخ فراخوانی API).



---

## پیش‌نیازهای فنی

### ۱. محیط جاوا (Java)

* **JDK 17**: این پروژه برای کامپایل و اجرا به نسخه ۱۷ جاوا نیاز دارد.
* **Apache Maven**: برای مدیریت وابستگی‌ها و اجرای پروژه جاوا الزامی است.

### ۲. محیط پایتون (Python)

* **Python 3.9+**: برای اجرای سرور رابط LLM و مدیریت پرامپت‌ها مورد نیاز است.

---

## نصب و راه‌اندازی

### تنظیمات پایتون

ابتدا یک محیط مجازی ایجاد کرده و کتابخانه‌های مورد نیاز را نصب کنید:

1. **ایجاد محیط مجازی:**
```bash
python -m venv venv

```


2. **فعال‌سازی محیط مجازی:**
* در ویندوز: `.\venv\Scripts\activate`
* در لینوکس/مک: `source venv/bin/activate`


3. **نصب پکیج‌ها:**
```bash
pip install -r requirements.txt

```


*نکته: حتماً فایل `key.py` را با کلید API معتبر خود تنظیم کنید.*

### تنظیمات جاوا و Maven

پروژه از کتابخانه‌های محلی جاوا استفاده می‌کند که در فایل `pom.xml` تعریف شده‌اند:

1. **نصب کتابخانه‌های محلی:** برخی فایل‌های `.jar` (مانند `mason`, `jFuzzyLogic`, `tablesaw`) باید به صورت محلی در سیستم یا در مخزن Maven شما شناسایی شوند.
2. **بیلد کردن پروژه:**
```bash
mvn clean install

```



---

## دریافت داده‌های ورودی

شبیه‌ساز برای اجرا به داده‌های مکانی و نقشه‌های پایه نیاز دارد:

1. 
**دانلود داده‌های CRAFTY:** این داده‌ها را از [OSF (doi:10.17605/OSF.IO/3THSM)](https://osf.io/3thsm/) دریافت کنید.


2. **آماده‌سازی دایرکتوری:** محتوای دانلود شده را در پوشه‌ای به نام `data_EUpaper_nocsv` در مسیر اصلی پروژه قرار دهید.
* مسیر نهایی باید به این صورت باشد: `data_EUpaper_nocsv\worlds\EU\regionalisations\28\capitals\Baseline_map.csv`.



---

## نحوه اجرای پروژه

برای اجرای کامل شبیه‌سازی، باید هر دو بخش پایتون و جاوا به صورت همزمان فعال باشند:

### گام اول: اجرای سرور پایتون (LLM Handler)

این بخش وظیفه برقراری ارتباط با مدل‌های زبانی (مانند GPT-4) را بر عهده دارد:

```bash
python main.py

```

### گام دوم: اجرای شبیه‌ساز جاوا

در یک ترمینال جدید، شبیه‌ساز اصلی را با استفاده از Maven اجرا کنید:

```bash
mvn exec:java "-Dexec.mainClass=llmExp.LLMModelRunnerWithUI"

```

---

## دامنه استفاده

* این ریپو فقط برای **یادگیری و تحقیق دانشگاهی** استفاده می‌شود.
* هدف آن **آزمایش مفهومی و آموزشی** است.
* این پروژه **هیچ کاربرد عملی یا سیاست‌گذاری واقعی** ندارد و نتایج آن پیش‌بینی دنیای واقعی محسوب نمی‌شوند.

---